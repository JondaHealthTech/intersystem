<html>
<head>
	<script language="cache" method="OnPreHTTP" arguments="" returntype="%Boolean">
	;set nonce = 189200
	;set cspHeader = "default-src 'self';img-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self' 'nonce-" _ nonce _ "' 'unsafe-inline'"
	;d %response.SetHeader("Content-Security-Policy", cspHeader)
	q 1
	</script>
    <!--script language="cache" runat="server">d HEAD1^CSP999</script-->
	<link rel="stylesheet" href="assets/styles/cLogin.css">
</head>
<body ><!-- onload="jInitMe()"-->
<form id="F1" autocomplete="off">
	<div id="wrapper">
	    <div class="bg-wrapper">
	        <div class="bg4">
	            <img src="./assets/images/bg4.png">
	        </div>
	    </div>
	    <div class="content">
	        <img class="logo" src="./assets/images/JX Logo White.png" alt="Jonda X">
	        <h1>
	            Welcome back!
	        </h1>
			<h2>Log In to <span>JondaX Admin Portal</span>.</h2>
	        <div id="login-form" class="login-form">
                <h4>Please enter your user id and password. Passwords are case-sensitive.</h4>
	            <div class="input-group">
	                <input type="text" name="T1" id="T1" placeholder="Enter your user id" onkeypress="jChangeMe()" >
	            </div>
	            <div class="input-group">
	                <input type="password" name="T2" id="T2" placeholder="Enter your password" onkeypress="jCheckKey(event)">
	                <img   id="togglePassword" onclick="jTogglePassword(event)" src="./assets/images/eyeClose.png">
	            </div>
	            <button  type="button" class="login-btn" id="loginBtn" onclick="jLogin()">Login</button>
	            <p class="error-text" id="AlertText">
	            </p><!--
	            <p class="error-text" id="FailedText">
	            </p>-->
	        </div>
	    </div>
	</div>
	<script type="text/javascript">var resizefunc = [];</script>
       <!--  jQuery  -->
		<script language="cache" runat="server">
			;&js<let resizefunc= [];>
			d jQueryCore^WSP999
		</script>
</form>
</body>

<script type="text/javascript">
window.onload=jInitMe
T1=self.F1.T1, T2=self.F1.T2
/*
 document.addEventListener("DOMContentLoaded", function () {
        // Add event listener for user ID input field
        const userIdInput = document.getElementById("T1");
        userIdInput.addEventListener("keypress", jChangeMe);

        // Add event listener for password input field
        const passwordInput = document.getElementById("T2");
        passwordInput.addEventListener("keypress", jCheckKey);

        // Add event listener for the login button
        const loginButton = document.getElementById("loginBtn");
        loginButton.addEventListener("click", jLogin);

        // Add event listener for toggling password visibility
        const togglePasswordImg = document.getElementById("togglePassword");
        togglePasswordImg.addEventListener("click", jTogglePassword);
    });
 */


// for eye icon, hide,unhide password
function jTogglePassword(event){
	
	if(T2.type=="password"){
		T2.type="text";
		event.target.src = "./assets/images/eyeOpen.png";
	}
	else{
		T2.type="password";
		event.target.src = "./assets/images/eyeClose.png";
	}
}

function jInitMe(){
	// cursor on first text box 
	T1.focus()
}

function jCheckKey(event){
	jChangeMe();
	// For 'Enter' key
	if(event.which === 13){
		jLogin()
	}
}
// Hide alert text
function jChangeMe(){ 
	document.getElementById("AlertText").style.opacity=0
}
// client side Validation
function jLogin(){	
	if ((T1.value=="")||(T2.value=="")){
		document.getElementById("AlertText").style.opacity=1
		return false
	}
	#server(..cLogin(T1.value,T2.value))#
}
</script>
<script language="cache" method="cLogin" arguments="d1,d2:%String">
	// Server side validation
	d Validate^cLogin
</script>
</html>
